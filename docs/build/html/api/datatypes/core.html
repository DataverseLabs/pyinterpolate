
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Core data structures &#8212; Pyinterpolate 0.5.2 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=8e576371"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/datatypes/core';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Input / Output" href="../io/io.html" />
    <link rel="prev" title="API" href="../api.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Pyinterpolate 0.5.2 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../setup/setup.html">
    Setup
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../usage/quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../usage/tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../science/cite.html">
    How to cite
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../api.html">
    API
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../developer/dev.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../community/community.html">
    Community
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../usage/learning_materials.html">
    Learning Materials
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../../science/biblio.html">
    Bibliography
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../setup/setup.html">
    Setup
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../usage/quickstart.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../usage/tutorials.html">
    Tutorials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../science/cite.html">
    How to cite
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../api.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../developer/dev.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../community/community.html">
    Community
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../usage/learning_materials.html">
    Learning Materials
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../science/biblio.html">
    Bibliography
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Core data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/io.html">Input / Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distance/distance.html">Distance calculations</a></li>

<li class="toctree-l1 has-children"><a class="reference internal" href="../variogram/variogram.html">Variogram</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../variogram/experimental/experimental.html">Experimental</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variogram/theoretical/theoretical.html">Theoretical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variogram/block/block.html">Block</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variogram/deconvolution/deconvolution.html">Deconvolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variogram/indicator/indicator.html">Indicator</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../kriging/kriging.html">Kriging</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../kriging/point/point_kriging.html">Point Kriging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kriging/block/block_kriging.html">Block - Poisson Kriging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kriging/indicator/indicator_kriging.html">Indicator Kriging</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../idw/idw.html">Inverse Distance Weighting</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../pipelines/pipelines.html">Pipelines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../pipelines/data/download.html">Data download</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipelines/kriging_based/kriging_based_processes.html">Kriging-based processes</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../viz/viz.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validation/validation.html">Validation</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../api.html" class="nav-link">API</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Core data structures</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="core-data-structures">
<h1>Core data structures<a class="headerlink" href="#core-data-structures" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Blocks</span></span><a class="reference internal" href="../../_modules/pyinterpolate/processing/preprocessing/blocks.html#Blocks"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Class stores and prepares aggregated data.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">geocls</span> <span class="o">=</span> <span class="n">Blocks</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">geocls</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s1">&#39;testfile.shp&#39;</span><span class="p">,</span> <span class="n">value_col</span><span class="o">=</span><span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="n">geometry_col</span><span class="o">=</span><span class="s1">&#39;geometry&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;idx&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_columns</span> <span class="o">=</span> <span class="n">geocls</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">parsed_columns</span><span class="p">))</span>
<span class="go">(idx, val, geometry, centroid.x, centroid.y)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data</strong><span class="classifier">gpd.GeoDataFrame</span></dt><dd><p>Dataset with block values.</p>
</dd>
<dt><strong>value_column_name</strong><span class="classifier">Any</span></dt><dd><p>Name of the column with block rates.</p>
</dd>
<dt><strong>geometry_column_name</strong><span class="classifier">Any</span></dt><dd><p>Name of the column with a block geometry.</p>
</dd>
<dt><strong>index_column_name</strong><span class="classifier">Any</span></dt><dd><p>Name of the column with the index.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>from_file()</strong></p></td>
<td><p>Reads and parses data from spatial file supported by GeoPandas.</p></td>
</tr>
<tr class="row-even"><td><p><strong>from_geodataframe()</strong></p></td>
<td><p>Reads and parses data from GeoPandas <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geometry'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pyinterpolate/processing/preprocessing/blocks.html#Blocks.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Loads areal dataset from a file supported by GeoPandas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">str</span></dt><dd><p>Path to the spatial file with appropriate extension such as <code class="docutils literal notranslate"><span class="pre">.shp</span></code>,</p>
</dd>
<dt><strong>``.gpkg``, ``.feather``, or ``.parquet``.</strong></dt><dd></dd>
<dt><strong>value_col</strong><span class="classifier">Any</span></dt><dd><p>The name of a column with values.</p>
</dd>
<dt><strong>geometry_col</strong><span class="classifier">default=’geometry’</span></dt><dd><p>The name of a column with blocks.</p>
</dd>
<dt><strong>index_col</strong><span class="classifier">default = None</span></dt><dd><p>Index column name. It could be any unique value from a dataset. If not given then index is taken
from the index array of <code class="docutils literal notranslate"><span class="pre">GeoDataFrame</span></code>, and it is named <code class="docutils literal notranslate"><span class="pre">'index'</span></code>.</p>
</dd>
<dt><strong>layer_name</strong><span class="classifier">Any, default = None</span></dt><dd><p>The name of a layer with data if provided input is a <em>gpkg</em> file.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">Any</span></dt><dd><p>Additional kwargs parameters passed to the <code class="docutils literal notranslate"><span class="pre">geopandas.read_file()</span></code>,
<code class="docutils literal notranslate"><span class="pre">geopandas.read_feather()</span></code> or <code class="docutils literal notranslate"><span class="pre">geopandas.read_parquet()</span></code> functions.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>IndexColNotUniqueError</dt><dd><p>Raised when given index column has not unique values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">from_geodataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geometry'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pyinterpolate/processing/preprocessing/blocks.html#Blocks.from_geodataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Loads areal dataset from a GeoDataFrame supported by GeoPandas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>gdf</strong><span class="classifier">gpd.GeoDataFrame</span></dt><dd></dd>
<dt><strong>value_col</strong><span class="classifier">Any</span></dt><dd><p>The name of a column with values.</p>
</dd>
<dt><strong>geometry_col</strong><span class="classifier">Any, default = ‘geometry’</span></dt><dd><p>The name of a column with blocks.</p>
</dd>
<dt><strong>index_col</strong><span class="classifier">Any, default = None</span></dt><dd><p>If set then a specific column is treated as an index.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>IndexColNotUniqueError</dt><dd><p>Given index column values are not unique.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PointSupport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_not_used_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pyinterpolate/processing/preprocessing/blocks.html#PointSupport"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Class prepares the point support data in relation to block dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>log_not_used_points</strong><span class="classifier">bool, default=False</span></dt><dd><p>Should dropped points be logged?</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The PointSupport class structure is designed to store the information about the points within polygons.
During the regularization process, the inblock variograms are estimated from the polygon’s point support, and
semivariances are calculated between point supports of neighbouring blocks.</p>
<p>The class takes population grid (support) and blocks data (polygons). Then, spatial join is performed and points
are assigned to areas within they are placed. The core attribute is <code class="docutils literal notranslate"><span class="pre">point_support</span></code> - GeoDataFrame with columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x_col</span></code> - a floating representation of longitude,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y_col</span></code> - a floating representation of latitude,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value_column</span></code> - the attribute which describes the name of a column with the point-support’s value,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geometry_column</span></code> - the attribute which describes the name of a geometry column with <code class="docutils literal notranslate"><span class="pre">Point()</span></code> representation
of the point support coordinates,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">block_index_column</span></code> - the name of a column which directs to the block index values.</p></li>
</ul>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyinterpolate</span> <span class="kn">import</span> <span class="n">PointSupport</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">POPULATION_DATA</span> <span class="o">=</span> <span class="s2">&quot;path to the point support file&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">POLYGON_DATA</span> <span class="o">=</span> <span class="s2">&quot;path to the polygon data&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GEOMETRY_COL</span> <span class="o">=</span> <span class="s2">&quot;geometry&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">POP10</span> <span class="o">=</span> <span class="s2">&quot;POP10&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">POLYGON_ID</span> <span class="o">=</span> <span class="s2">&quot;FIPS&quot;</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdf_points</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">POPULATION_DATA</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdf_polygons</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">POLYGON_DATA</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point_support</span> <span class="o">=</span> <span class="n">PointSupport</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">point_support</span><span class="o">.</span><span class="n">from_geodataframes</span><span class="p">(</span><span class="n">gdf_points</span><span class="p">,</span>
<span class="gp">... </span>                                       <span class="n">gdf_polygons</span><span class="p">,</span>
<span class="gp">... </span>                                       <span class="n">point_support_geometry_col</span><span class="o">=</span><span class="n">GEOMETRY_COL</span><span class="p">,</span>
<span class="gp">... </span>                                       <span class="n">point_support_val_col</span><span class="o">=</span><span class="n">POP10</span><span class="p">,</span>
<span class="gp">... </span>                                       <span class="n">blocks_geometry_col</span><span class="o">=</span><span class="n">GEOMETRY_COL</span><span class="p">,</span>
<span class="gp">... </span>                                       <span class="n">blocks_index_col</span><span class="o">=</span><span class="n">POLYGON_ID</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Attributes<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point_support</strong><span class="classifier">gpd.GeoDataFrame</span></dt><dd><p>Dataset with point support values and indexes of blocks (where points fall into).</p>
</dd>
<dt><strong>value_column</strong><span class="classifier">str</span></dt><dd><p>The value column name</p>
</dd>
<dt><strong>geometry_column</strong><span class="classifier">str</span></dt><dd><p>The geometry column name.</p>
</dd>
<dt><strong>block_index_column</strong><span class="classifier">str</span></dt><dd><p>The area index.</p>
</dd>
<dt><strong>x_col</strong><span class="classifier">str, default = “x_col”</span></dt><dd><p>Longitude column name.</p>
</dd>
<dt><strong>y_col</strong><span class="classifier">str, default = “y_col”</span></dt><dd><p>Latitude column name.</p>
</dd>
<dt><strong>log_dropped</strong><span class="classifier">bool</span></dt><dd><p>See log_not_used_points parameter.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>from_files()</strong></p></td>
<td><p>Loads point support and polygon data from files.</p></td>
</tr>
<tr class="row-even"><td><p><strong>from_geodataframes()</strong></p></td>
<td><p>Loads point support and polygon data from dataframe.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_support_data_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_support_geometry_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_support_val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_geometry_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_index_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_point_support_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_support_layer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_layer_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pyinterpolate/processing/preprocessing/blocks.html#PointSupport.from_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Methods prepares the point support data from files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point_support_data_file</strong><span class="classifier">str</span></dt><dd><p>Path to the file with point support data. Reads all files
processed by the GeoPandas with appropriate extension such as <code class="docutils literal notranslate"><span class="pre">.shp</span></code>,
<code class="docutils literal notranslate"><span class="pre">.gpkg</span></code>, <code class="docutils literal notranslate"><span class="pre">.feather</span></code>, or <code class="docutils literal notranslate"><span class="pre">.parquet</span></code>.</p>
</dd>
<dt><strong>blocks_file</strong><span class="classifier">str</span></dt><dd><p>Path to the file with polygon data. Reads all files processed
by GeoPandas with appropriate extension such as <code class="docutils literal notranslate"><span class="pre">.shp</span></code>,</p>
</dd>
<dt><strong>``.gpkg``, ``.feather``, or ``.parquet``.</strong></dt><dd></dd>
<dt><strong>point_support_geometry_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the point support geometry column.</p>
</dd>
<dt><strong>point_support_val_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the point support column with values.</p>
</dd>
<dt><strong>blocks_geometry_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the polygon geometry column.</p>
</dd>
<dt><strong>blocks_index_col</strong><span class="classifier">Any</span></dt><dd><p>The name of polygon’s index column (must be unique!).</p>
</dd>
<dt><strong>use_point_support_crs</strong><span class="classifier">bool, default = True</span></dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">False</span></code> then the point support crs is transformed to the same crs as polygon dataset.</p>
</dd>
<dt><strong>point_support_layer_name</strong><span class="classifier">Any, default = None</span></dt><dd><p>If provided file is <em>.gpkg</em> then this parameter must be provided.</p>
</dd>
<dt><strong>blocks_layer_name</strong><span class="classifier">Any, default = None</span></dt><dd><p>If provided file is <em>.gpkg</em> then this parameter must be provided.</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">Any</span></dt><dd><p>Additional kwargs parameters passed to the <code class="docutils literal notranslate"><span class="pre">geopandas.read_file()</span></code>,
<code class="docutils literal notranslate"><span class="pre">geopandas.read_feather()</span></code> or <code class="docutils literal notranslate"><span class="pre">geopandas.read_parquet()</span></code> functions.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">from_geodataframes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point_support_dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_dataframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_support_geometry_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_support_val_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_geometry_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocks_index_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_point_support_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pyinterpolate/processing/preprocessing/blocks.html#PointSupport.from_geodataframes"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Methods prepares the point support data from files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>point_support_dataframe</strong><span class="classifier">GeoDataFrame or GeoSeries</span></dt><dd></dd>
<dt><strong>blocks_dataframe</strong><span class="classifier">GeoDataFrame</span></dt><dd><p>Block data with block indexes and geometries.</p>
</dd>
<dt><strong>point_support_geometry_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the point support geometry column.</p>
</dd>
<dt><strong>point_support_val_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the point support column with values.</p>
</dd>
<dt><strong>point_support_val_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the point support column with values.</p>
</dd>
<dt><strong>blocks_geometry_col</strong><span class="classifier">Any</span></dt><dd><p>The name of the polygon geometry column.</p>
</dd>
<dt><strong>blocks_index_col</strong><span class="classifier">Any</span></dt><dd><p>The name of polygon’s index column (must be unique!).</p>
</dd>
<dt><strong>use_point_support_crs</strong><span class="classifier">bool, default = True</span></dt><dd><p>If set to <code class="docutils literal notranslate"><span class="pre">False</span></code> then the point support crs is transformed to the same crs as polygon dataset.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../api.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">API</p>
      </div>
    </a>
    <a class="right-next"
       href="../io/io.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Input / Output</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/api/datatypes/core.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Szymon Moliński.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>